!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var i,s,o,d,c,l=a("7pbsT"),u=a("4tSb9"),m=a("80lIJ"),f=(l=a("7pbsT"),u=a("4tSb9"),a("dIxxU")),p=document.querySelector(".loader"),h="b942b8bf626a04f48b07153a95ee51a0",g=(i=(0,l.default)((function(){var e,t,n,r,a=arguments;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:e=a.length>0&&void 0!==a[0]?a[0]:"https://api.themoviedb.org/3/movie/popular",t=a.length>1&&void 0!==a[1]?a[1]:1,p.style.display="block",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,f.default.get(e,{params:{api_key:"".concat(h),page:t,language:"en-US"}})];case 2:return n=i.sent(),p.style.display="none",[2,n];case 3:return r=i.sent(),p.style.display="none",console.log(r),[3,4];case 4:return[2]}}))})),function(){return i.apply(this,arguments)}),v=a("e4Itz"),b="",L=function(e){var t=I();return function(e,t){b="",e.map((function(n){t.map((function(t){t.id===n&&(n!=e[e.length-1]?b=b+t.name+", ":b+=t.name)}))}))}(e.genre_ids,t.data.genres),'\n<div class="movie-card">\n<img class="movie-card__image" alt="'.concat(e.title,' movie" src=').concat((0,v.imageExists)("https://image.tmdb.org/t/p/w500",e.poster_path),'>\n  <div class="movie-card__label">\n    <p class="movie-card__title">').concat(e.title,'</p>\n    <p class="movie-card__genre-year">').concat(b," | ").concat((0,v.getMovieYear)(e.release_date),'</p> \n    <p class="movie-card__id">').concat(e.id,"</p> \n  </div>\n</div>\n")},_=document.getElementById("pagination__numbers"),y=document.getElementById("next-button"),S=document.getElementById("prev-button"),T=function(e){if(e==s){var t=document.createElement("span");t.className="pagination__numbers-ellipsis",t.innerHTML="&hellip;",t.classList.add("hidden-right"),_.appendChild(t)}var n=document.createElement("button");if(n.className="pagination__number",n.innerHTML=e,n.setAttribute("page-index",e),n.setAttribute("aria-label","Page "+e),1!=e&&e!=s||n.classList.add("hidden-mobile"),_.appendChild(n),1==e){var r=document.createElement("span");r.className="pagination__numbers-ellipsis",r.innerHTML="&hellip;",r.classList.add("hidden-left"),_.appendChild(r)}},E=function(e){_.innerHTML="",s=e;for(var t=1;t<=e;t++)T(t)},q=function(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)},x=function(e){e.classList.remove("disabled"),e.removeAttribute("disabled")},M=function(e){(function(e){var t=document.querySelectorAll(".pagination__numbers-ellipsis");console.log(t),document.querySelectorAll(".pagination__number").forEach((function(n){var r=Number(n.getAttribute("page-index"));s<=7?(n.classList.remove("hidden"),t[0].classList.add("hidden-left"),t[1].classList.add("hidden-right")):e<=4?(t[0].classList.add("hidden-left"),t[1].classList.remove("hidden-right")):e>=s-3?(t[0].classList.remove("hidden-left"),t[1].classList.add("hidden-right")):(t[0].classList.remove("hidden-left"),t[1].classList.remove("hidden-right")),e<=3?(1==r&&n.classList.remove("hidden-mobile"),r==s&&n.classList.add("hidden-mobile"),r<=5||r==s?n.classList.remove("hidden"):n.classList.add("hidden")):e>=s-2?(1==r&&n.classList.add("hidden-mobile"),r==s&&n.classList.remove("hidden-mobile"),r>=s-4||1==r?n.classList.remove("hidden"):n.classList.add("hidden")):s<=7?(n.classList.remove("hidden"),t[0].classList.add("hidden-left"),t[1].classList.add("hidden-right"),1!=r&&r!=s||n.classList.remove("hidden-mobile")):1==r||r==s?(n.classList.remove("hidden"),n.classList.add("hidden-mobile")):r>=e-2&&r<=e+2?n.classList.remove("hidden"):n.classList.add("hidden")}))})(o=e),document.querySelectorAll(".pagination__number").forEach((function(e){e.classList.remove("active"),Number(e.getAttribute("page-index"))==o&&e.classList.add("active")})),1===o?q(S):x(S),s===o?q(y):x(y)},w=a("dEmTs"),H=document.querySelector(".main-box"),N=1,A=function(){var e=(0,l.default)((function(e,t){var n,r;return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,g(e,N)];case 1:return n=t.sent(),[4,(0,m.getGenresList)()];case 2:return c=t.sent(),H.innerHTML="",n.data.results.map((function(e){H.insertAdjacentHTML("beforeend",L(e))})),n.data.total_pages<500?E(n.data.total_pages):E(500),M(N),prevBtnFunc=(0,l.default)((function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return M(N-1),[4,g(e,--N)];case 1:return n=t.sent(),H.innerHTML="",n.data.results.map((function(e){H.insertAdjacentHTML("beforeend",L(e))})),(0,w.onTopScroll)(),[2]}}))})),S.addEventListener("click",prevBtnFunc),d=nextBtnFunc=(0,l.default)((function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return M(N+1),[4,g(e,++N)];case 1:return n=t.sent(),H.innerHTML="",n.data.results.map((function(e){H.insertAdjacentHTML("beforeend",L(e))})),(0,w.onTopScroll)(),[2]}}))})),y.addEventListener("click",nextBtnFunc),document.querySelectorAll(".pagination__number").forEach((function(t){var r=Number(t.getAttribute("page-index"));r&&t.addEventListener("click",(0,l.default)((function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return M(r),[4,g(e,N=r)];case 1:return n=t.sent(),H.innerHTML="",n.data.results.map((function(e){H.insertAdjacentHTML("beforeend",L(e))})),(0,w.onTopScroll)(),[2]}}))})))})),[3,4];case 3:return r=t.sent(),console.log("err ",r),[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),k=function(){y.removeEventListener("click",d),S.removeEventListener("click",prevBtnFunc)},I=function(){return c},C=(m=a("80lIJ"),document.querySelector(".genres-menu__select")),O=document.querySelector(".genres-menu__clear"),j="https://api.themoviedb.org/3/movie/popular",B=[];O.addEventListener("click",(function(e){B.forEach((function(e){return document.getElementById(e).classList.remove("focused-genre")})),B=[],j="https://api.themoviedb.org/3/movie/popular",k(),A(j)})),(0,m.getGenresList)().then((function(e){for(var t=function(t){var n=document.createElement("button");n.classList.add("genre"),n.id=e.data.genres[t].id,n.innerText=e.data.genres[t].name,n.addEventListener("click",(function(){n.classList.add("focused-genre"),0===B?B.push(e.data.genres[t].id):B.includes(e.data.genres[t].id)?B.forEach((function(r,a){r==e.data.genres[t].id&&(console.log(e.data.genres[t].id),B.splice(a,1),n.classList.remove("focused-genre"))})):B.push(e.data.genres[t].id),j=B!==[]?"https://api.themoviedb.org/3/discover/movie?&with_genres="+encodeURI(B.join(",")):"https://api.themoviedb.org/3/movie/popular",k(),A(j)})),C.append(n)},n=0;n<e.data.genres.length;n++)t(n)}));var J=a("iU1Pc"),U=document.querySelector(".queue-btn"),F=document.querySelector(".watched-btn"),D=(document.querySelector(".modal"),document.querySelector(".modal__id")),R=[],G=[],P=[];addEventListener("click",(function(e){if("movie-card__image"===e.target.className){P=e.target.parentNode.children[1].children[2].textContent;var t=localStorage.getItem("added-to-queue",JSON.stringify(R)),n=localStorage.getItem("added-to-watched",JSON.stringify(G));t.includes(P)?U.textContent="removed form queue":U.textContent="add to queue",n.includes(P)?F.textContent="removed form watched":F.textContent="add to watched"}})),U.addEventListener("click",(function(t){var n=D.textContent;if(R.includes(n)){var r=R.indexOf(n);if(r>-1)return R.splice(r,1),localStorage.setItem("added-to-queue",JSON.stringify(R)),U.textContent="add to queue",e(J).Notify.info("Movie removed from queue")}else R.push(n),localStorage.setItem("added-to-queue",JSON.stringify(R));return U.textContent="removed form queue",e(J).Notify.success("Movie added to queue")})),F.addEventListener("click",(function(t){var n=D.textContent;if(G.includes(n)){var r=G.indexOf(n);if(r>-1)return G.splice(r,1),localStorage.setItem("added-to-watched",JSON.stringify(G)),F.textContent="add to watched",e(J).Notify.info("Movie removed from watched")}else G.push(n),localStorage.setItem("added-to-watched",JSON.stringify(G));return F.textContent="removed form watched",e(J).Notify.success("Movie added to watched")})),a("5h39L");l=a("7pbsT"),u=a("4tSb9"),l=a("7pbsT"),u=a("4tSb9"),f=a("dIxxU");var z="b942b8bf626a04f48b07153a95ee51a0",Q="https://api.themoviedb.org/3/search/movie",W=document.querySelector(".loader");function Y(e){return K.apply(this,arguments)}function K(){return K=(0,l.default)((function(e){var t,n,r,a=arguments;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:t=a.length>1&&void 0!==a[1]?a[1]:1,W.style.display="block",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,f.default.get(Q,{params:{api_key:"".concat(z),query:"".concat(e),page:t}})];case 2:return n=i.sent(),W.style.display="none",[2,n.data];case 3:return r=i.sent(),W.style.display="none",console.error(r),[3,4];case 4:return[2]}}))})),K.apply(this,arguments)}var V=document.querySelector(".header__no-movies"),X=document.querySelector(".main-box"),Z=document.querySelector("input[name='searchQuery']"),$=document.querySelector(".header__search-form-btn"),ee=1;function te(){return(te=(0,l.default)((function(e){var t,n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),V.innerHTML="",ee=1,(t=Z.value)?[3,1]:(alert("Enter movie title"),[3,3]);case 1:return[4,Y(t,ee)];case 2:(n=r.sent()).results.length?(X.innerHTML="",console.log(n),n.results.map((function(e){X.insertAdjacentHTML("beforeend",L(e))})),n.total_pages<500?E(n.total_pages):E(500),M(ee),S.addEventListener("click",(0,l.default)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return M(ee-1),[4,Y(t,--ee)];case 1:return n=e.sent(),X.innerHTML="",console.log(n),n.results.map((function(e){X.insertAdjacentHTML("beforeend",L(e))})),onTopScroll(),[2]}}))}))),y.addEventListener("click",(0,l.default)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return M(ee+1),[4,Y(t,++ee)];case 1:return n=e.sent(),X.innerHTML="",console.log(n),n.results.map((function(e){X.insertAdjacentHTML("beforeend",L(e))})),onTopScroll(),[2]}}))}))),document.querySelectorAll(".pagination__number").forEach((function(e){var r=Number(e.getAttribute("page-index"));r&&e.addEventListener("click",(0,l.default)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return M(r),[4,Y(t,ee=r)];case 1:return n=e.sent(),X.innerHTML="",console.log(n),n.results.map((function(e){X.insertAdjacentHTML("beforeend",L(e))})),onTopScroll(),[2]}}))})))}))):V.innerHTML="Search result not successful. Enter the correct movie name.",r.label=3;case 3:return[2]}}))}))).apply(this,arguments)}$.addEventListener("click",(function(e){return te.apply(this,arguments)})),a("dEmTs");var ne=document.querySelector(".footer__authors"),re=document.querySelector(".students-modal__close-btn"),ae=document.querySelector(".data-modal");function ie(){ae.classList.toggle("is-hidden")}ne.addEventListener("click",ie),re.addEventListener("click",ie),a("iNWLi"),A()}();
//# sourceMappingURL=index.50f147af.js.map
