{"mappings":"gfAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,iEAOME,EAASC,SAASC,cAAc,WAChCC,EAAaF,SAASC,cAAc,qBACpCE,EAAWH,SAASC,cAAc,mBAClCG,EAAOJ,SAASC,cAAc,aAC9BI,EAAaL,SAASC,cAAc,cACpCK,EAAeN,SAASC,cAAc,gBAE5CC,EAAWK,MAAMC,gBAAkB,WAEnC,I,EAAMC,EAAe,GAEfC,G,GAAgB,EAAAZ,EAAAa,UAAA,SAAMC,G,IAGpBC,EACEC,EAKCC,E,iEARThB,EAAOQ,MAAMS,QAAU,Q,iBAGJ,O,sBADbH,EAAU,sCAAyDI,OAAnBL,EAAQ,aAAmBK,OAfnE,mCAemE,mBAC9D,C,EAAMC,EAAAP,QAAMQ,IAAIN,I,OAIjC,OAJMC,EAAWM,EAAAC,OACjBtB,EAAOQ,MAAMS,QAAU,OACvBjB,EAAOQ,MAAMe,SAAW,SAExB,C,EAAOR,EAASS,M,cACTR,EAAAK,EAAAC,OACPtB,EAAOQ,MAAMS,QAAU,OACvBjB,EAAOQ,MAAMe,SAAW,SACxBE,QAAQT,MAAMA,G,0BAElB,I,SAd4BH,G,iCAiBxBa,EAAgB,G,SAGLC,I,OAAAC,EAAAC,MAAAC,KAAAC,U,UAAAH,I,OAAAA,GAAf,EAAA7B,EAAAa,UAAA,W,IAOMoB,EACAC,EAGEC,EAcEC,EACAC,EAEKC,EACHC,EAEAC,E,wEA9BVnC,EAASoC,gBAAgB,YACzBnC,EAAKoC,UAAY,GACjBtC,EAAWK,MAAMC,gBAAkB,WACnCL,EAASI,MAAMC,gBAAkB,eACjCN,EAAWK,MAAMC,gBAAkB,WACnCL,EAASsC,YAAe,QAEpBT,EAAc,EAE2C,OAAzDU,KAAKC,MAAMC,aAAaC,QAAQ,qBAAhC,C,MACEZ,EAAsBS,KAAKC,MAC7BC,aAAaC,QAAQ,qBACrBC,OAEkE,IAAhEJ,KAAKC,MAAMC,aAAaC,QAAQ,qBAAqBC,OAArD,C,MACF1C,EAAK2C,mBACH,YACC,kEAEH7C,EAAWuC,YAAe,UAC1B1C,EAAOQ,MAAMS,QAAU,O,eAEvBS,EAAgBiB,KAAKC,MAAMC,aAAaC,QAAQ,qBAE5CX,EAAA,GAGKE,EAAI,E,wBAAGA,EAAIX,EAAcqB,QAC5BT,EAAiBZ,EAAcW,GAEX,C,EAAM1B,EAAc2B,KAHP,C,YAGjCC,EAAoBlB,EAAAC,OAExBa,EAAkBc,KAAKV,G,wBALiBF,I,aAQ1CL,EAAakB,KAAKC,KAAKhB,EAAkBY,OAASrC,GAMlD0C,EAJAhB,EAAgBD,EAAkBkB,OAC/BpB,EAAc,GAAKvB,EACpBuB,EAAcvB,IAIhB4C,EAAAC,qBAAgCvB,GAChCsB,EAAAE,eAA0BvB,GAE1BqB,EAAAG,WAAsBC,iBAAiB,SAAS,EAAA3D,EAAAa,UAAA,W,iDAC9C0C,EAAAE,iBAA4BvB,GAC5BG,EAAgBD,EAAkBkB,OAC/BpB,EAAc,GAAKvB,EACpBuB,EAAcvB,GAEhBL,EAAKoC,UAAY,GACjBhB,QAAQkC,IAAIvB,GAEZgB,EAAahB,IACb,EAAAwB,EAAAC,e,MACF,KACAP,EAAAQ,WAAsBJ,iBAAiB,SAAS,EAAA3D,EAAAa,UAAA,W,iDAC9C0C,EAAAE,iBAA4BvB,GAC5BG,EAAgBD,EAAkBkB,OAC/BpB,EAAc,GAAKvB,EACpBuB,EAAcvB,GAEhBL,EAAKoC,UAAY,GACjBhB,QAAQkC,IAAIvB,GAEZgB,EAAahB,IACb,EAAAwB,EAAAC,e,MACF,KACA5D,SAAS8D,iBAAiB,uBAAuBC,SAAQ,SAAAC,GACvD,IAAMC,EAAYC,OAAOF,EAAOG,aAAa,eACzCF,GACFD,EAAOP,iBAAiB,SAAS,EAAA3D,EAAAa,UAAA,W,iDAC/B0C,EAAAE,eAA0BU,GAC1BjC,EAAciC,EAEd9B,EAAgBD,EAAkBkB,OAC/BpB,EAAc,GAAKvB,EACpBuB,EAAcvB,GAEhBL,EAAKoC,UAAY,GACjBhB,QAAQkC,IAAIvB,GAEZgB,EAAahB,IACb,EAAAwB,EAAAC,e,MACF,IAEJ,IAEA1D,EAAWuC,YAAc,aAAiCxB,OAApBgB,G,oCAGxC7B,EAAK2C,mBACH,YACC,kEAEH7C,EAAWuC,YAAe,UAC1B1C,EAAOQ,MAAMS,QAAU,O,wBAEzBd,EAAWkE,aAAa,YAAY,G,OACtC,KAtGexC,MAAAC,KAAAC,U,CAFfJ,IA0GAxB,EAAWuD,iBAAiB,SAAS,SAAAY,GACnCA,EAAMC,iBACN5C,GACF,IAIA,IAAI6C,EAAe,G,SAEJC,I,OAAAA,GAAf,EAAA1E,EAAAa,UAAA,W,IAMMoB,EACAC,EAGEyC,EAaEC,EACAvC,EAEKC,EACHuC,EAEAC,E,wEA5BV1E,EAAWqC,gBAAgB,YAC3BnC,EAAKoC,UAAY,GACjBtC,EAAWK,MAAMC,gBAAkB,cACnCL,EAASI,MAAMC,gBAAkB,WACjCN,EAAWuC,YAAe,UAEtBT,EAAc,EAEyC,OAAvDU,KAAKC,MAAMC,aAAaC,QAAQ,mBAAhC,C,MACE4B,EAAqB/B,KAAKC,MAC5BC,aAAaC,QAAQ,mBACrBC,OAEgE,IAA9DJ,KAAKC,MAAMC,aAAaC,QAAQ,mBAAmBC,OAAnD,C,MACF1C,EAAK2C,mBACH,YACC,2DAEH5C,EAASsC,YAAe,QACxB1C,EAAOQ,MAAMS,QAAU,O,eAEvBuD,EAAe7B,KAAKC,MAAMC,aAAaC,QAAQ,mBAC3C6B,EAAA,GAGKtC,EAAI,E,wBAAGA,EAAImC,EAAazB,QAC3B6B,EAAgBJ,EAAanC,GAEV,C,EAAM1B,EAAciE,KAHP,C,YAGhCC,EAAmBxD,EAAAC,OAEvBqD,EAAiB1B,KAAK4B,G,wBALiBxC,I,aAQzCL,EAAakB,KAAKC,KAAKwB,EAAiB5B,OAASrC,GAMjD0C,EAJAhB,EAAgBuC,EAAiBtB,OAC9BpB,EAAc,GAAKvB,EACpBuB,EAAcvB,IAIhB4C,EAAAC,qBAAgCvB,GAChCsB,EAAAE,eAA0BvB,GAE1BqB,EAAAG,WAAsBC,iBAAiB,SAAS,EAAA3D,EAAAa,UAAA,W,iDAC9C0C,EAAAE,iBAA4BvB,GAC5BG,EAAgBuC,EAAiBtB,OAC9BpB,EAAc,GAAKvB,EACpBuB,EAAcvB,GAEhBL,EAAKoC,UAAY,GACjBhB,QAAQkC,IAAIvB,GAEZgB,EAAahB,IACb,EAAAwB,EAAAC,e,MACF,KACAP,EAAAQ,WAAsBJ,iBAAiB,SAAS,EAAA3D,EAAAa,UAAA,W,iDAC9C0C,EAAAE,iBAA4BvB,GAC5BG,EAAgBuC,EAAiBtB,OAC9BpB,EAAc,GAAKvB,EACpBuB,EAAcvB,GAEhBL,EAAKoC,UAAY,GACjBhB,QAAQkC,IAAIvB,GAEZgB,EAAahB,IACb,EAAAwB,EAAAC,e,MACF,KACA5D,SAAS8D,iBAAiB,uBAAuBC,SAAQ,SAAAC,GACvD,IAAMC,EAAYC,OAAOF,EAAOG,aAAa,eACzCF,GACFD,EAAOP,iBAAiB,SAAS,EAAA3D,EAAAa,UAAA,W,iDAC/B0C,EAAAE,eAA0BU,GAC1BjC,EAAciC,EAEd9B,EAAgBuC,EAAiBtB,OAC9BpB,EAAc,GAAKvB,EACpBuB,EAAcvB,GAEhBL,EAAKoC,UAAY,GACjBhB,QAAQkC,IAAIvB,GAEZgB,EAAahB,IACb,EAAAwB,EAAAC,e,MACF,IAEJ,IAEAzD,EAASsC,YAAc,WAA8BxB,OAAnBwD,G,oCAGpCrE,EAAK2C,mBACH,YACC,2DAEH5C,EAASsC,YAAe,QACxB1C,EAAOQ,MAAMS,QAAU,O,wBAEzBb,EAASiE,aAAa,YAAY,G,OACpC,KApGexC,MAAAC,KAAAC,U,CA4Gf,SAASqB,EAAa0B,GACpB,IASMC,EAASD,EACZE,KAAI,SAAAC,GACH,MAAO,qEAEoD/D,OAAzB+D,EAAMC,MAAM,eAKjBhE,QAL8B,EAAAiE,EAAAC,aACzD,kCACAH,EAAMI,aACN,2EAIoCnE,OAFT+D,EAAMK,eAAe,+DAI5CpE,QAtBmBqE,EAqBzBN,EAAMM,OApBJC,EAAoB,GACxBD,EAAOP,KAAI,SAAAS,GACTA,GAAQF,EAAOA,EAAOxC,OAAS,GAC1ByC,EAAoBA,EAAoBC,EAAKC,KAAO,KACpDF,GAAwCC,EAAKC,IACpD,IACOF,GAeL,QAC+BtE,QADzB,EAAAiE,EAAAQ,cAAaV,EAAMW,cAAc,iDAIb1E,OAHK+D,EAAMY,aAAaC,QAAQ,GAAG,6DAG1B5E,OAAT+D,EAAMc,GAAG,6BA1BV,IAAAR,EACvBC,CA6BJ,IACCQ,KAAK,IAER3F,EAAKoC,WAAasC,CACpB,CAzCA3E,EAASsD,iBAAiB,SAAS,SAAAY,GACjCA,EAAMC,iB,WAvGOE,EAAA5C,MAAAC,KAAAC,U,CAwGbkE,EACF,IAqDA3F,EAAWoD,iBAAiB,SAbP,SAAAY,GACoB,gBAAnClE,EAASI,MAAMC,kBACjBL,EAASoC,gBAAgB,YACzBpC,EAAS8F,QAEb,IASA3F,EAAamD,iBAAiB,SARP,SAAAY,GACoB,gBAArCnE,EAAWK,MAAMC,kBACnBN,EAAWqC,gBAAgB,YAC3BrC,EAAW+F,QAEf,I","sources":["src/library.js","src/js/getMoviesById.js"],"sourcesContent":["import './js/getGenreList';\nimport './js/addToLocalStorage';\nimport './js/getMoviesById';\nimport './js/modalWindow';\nimport './js/firebase';\nimport './js/students';\nimport './js/toTopBtn';\nimport './js/darkMode';\n","import axios from 'axios';\nimport { imageExists, getMovieYear } from './exportFunctions';\nimport * as pagination from './pagination';\nimport { onTopScroll } from './toTopBtn';\n\nlet movieID = '';\nconst API_KEY = 'b942b8bf626a04f48b07153a95ee51a0';\nconst loader = document.querySelector('.loader');\nconst watchedBtn = document.querySelector('.watched-list-btn');\nconst queueBtn = document.querySelector('.queue-list-btn');\nconst main = document.querySelector('.main-box');\nconst addToQueue = document.querySelector('.queue-btn');\nconst addToWatched = document.querySelector('.watched-btn');\n\nwatchedBtn.style.backgroundColor = ' #ff6b01';\n\nconst itemsPerPage = 20;\n\nconst getMoviesbyId = async movieID => {\n  loader.style.display = 'block';\n  try {\n    let API_URL = `https://api.themoviedb.org/3/movie/${movieID}?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(API_URL);\n    loader.style.display = 'none';\n    loader.style.overflow = 'hidden';\n\n    return response.data;\n  } catch (error) {\n    loader.style.display = 'none';\n    loader.style.overflow = 'hidden';\n    console.error(error);\n  }\n};\n\n//watched\nlet watchedMovies = [];\ngetWatchedMovies();\n\nasync function getWatchedMovies() {\n  queueBtn.removeAttribute('disabled');\n  main.innerHTML = '';\n  watchedBtn.style.backgroundColor = ' #ff6b01';\n  queueBtn.style.backgroundColor = ' transparent';\n  watchedBtn.style.backgroundColor = ' #ff6b01';\n  queueBtn.textContent = `QUEUE`;\n  let totalPages;\n  let currentPage = 1;\n\n  if (JSON.parse(localStorage.getItem('added-to-watched')) !== null) {\n    let watchedMoviesNumber = JSON.parse(\n      localStorage.getItem('added-to-watched')\n    ).length;\n\n    if (JSON.parse(localStorage.getItem('added-to-watched')).length === 0) {\n      main.insertAdjacentHTML(\n        'beforeend',\n        `<p class=\"alert\">There are no movies in your watched list!</p>`\n      );\n      watchedBtn.textContent = `WATCHED`;\n      loader.style.display = 'none';\n    } else {\n      watchedMovies = JSON.parse(localStorage.getItem('added-to-watched'));\n\n      let watchedMoviesList = [];\n      let paginatedList;\n\n      for (let i = 0; i < watchedMovies.length; i++) {\n        let watchedMovieId = watchedMovies[i];\n\n        let watchedMoviesItem = await getMoviesbyId(watchedMovieId);\n\n        watchedMoviesList.push(watchedMoviesItem);\n      }\n\n      totalPages = Math.ceil(watchedMoviesList.length / itemsPerPage);\n\n      paginatedList = watchedMoviesList.slice(\n        (currentPage - 1) * itemsPerPage,\n        currentPage * itemsPerPage\n      );\n      renderMovies(paginatedList);\n\n      pagination.getPaginationNumbers(totalPages);\n      pagination.setCurrentPage(currentPage);\n\n      pagination.prevButton.addEventListener('click', async () => {\n        pagination.setCurrentPage(--currentPage);\n        paginatedList = watchedMoviesList.slice(\n          (currentPage - 1) * itemsPerPage,\n          currentPage * itemsPerPage\n        );\n        main.innerHTML = '';\n        console.log(paginatedList);\n\n        renderMovies(paginatedList);\n        onTopScroll();\n      });\n      pagination.nextButton.addEventListener('click', async () => {\n        pagination.setCurrentPage(++currentPage);\n        paginatedList = watchedMoviesList.slice(\n          (currentPage - 1) * itemsPerPage,\n          currentPage * itemsPerPage\n        );\n        main.innerHTML = '';\n        console.log(paginatedList);\n\n        renderMovies(paginatedList);\n        onTopScroll();\n      });\n      document.querySelectorAll('.pagination__number').forEach(button => {\n        const pageIndex = Number(button.getAttribute('page-index'));\n        if (pageIndex) {\n          button.addEventListener('click', async () => {\n            pagination.setCurrentPage(pageIndex);\n            currentPage = pageIndex;\n\n            paginatedList = watchedMoviesList.slice(\n              (currentPage - 1) * itemsPerPage,\n              currentPage * itemsPerPage\n            );\n            main.innerHTML = '';\n            console.log(paginatedList);\n\n            renderMovies(paginatedList);\n            onTopScroll();\n          });\n        }\n      });\n\n      watchedBtn.textContent = `WATCHED : ${watchedMoviesNumber}`;\n    }\n  } else {\n    main.insertAdjacentHTML(\n      'beforeend',\n      `<p class=\"alert\">There are no movies in your watched list!</p>`\n    );\n    watchedBtn.textContent = `WATCHED`;\n    loader.style.display = 'none';\n  }\n  watchedBtn.setAttribute('disabled', true);\n}\n\nwatchedBtn.addEventListener('click', event => {\n  event.preventDefault();\n  getWatchedMovies();\n});\n\n//queue\n\nlet queuedMovies = [];\n\nasync function getQueuedMovies() {\n  watchedBtn.removeAttribute('disabled');\n  main.innerHTML = '';\n  watchedBtn.style.backgroundColor = 'transparent';\n  queueBtn.style.backgroundColor = ' #ff6b01';\n  watchedBtn.textContent = `WATCHED`;\n  let totalPages;\n  let currentPage = 1;\n\n  if (JSON.parse(localStorage.getItem('added-to-queue')) !== null) {\n    let queuedMoviesNumber = JSON.parse(\n      localStorage.getItem('added-to-queue')\n    ).length;\n\n    if (JSON.parse(localStorage.getItem('added-to-queue')).length === 0) {\n      main.insertAdjacentHTML(\n        'beforeend',\n        `<p class=\"alert\">There are no movies in your queue!</p>`\n      );\n      queueBtn.textContent = `QUEUE`;\n      loader.style.display = 'none';\n    } else {\n      queuedMovies = JSON.parse(localStorage.getItem('added-to-queue'));\n      let queuedMoviesList = [];\n      let paginatedList;\n\n      for (let i = 0; i < queuedMovies.length; i++) {\n        let queuedMovieId = queuedMovies[i];\n\n        let queuedMoviesItem = await getMoviesbyId(queuedMovieId);\n\n        queuedMoviesList.push(queuedMoviesItem);\n      }\n\n      totalPages = Math.ceil(queuedMoviesList.length / itemsPerPage);\n\n      paginatedList = queuedMoviesList.slice(\n        (currentPage - 1) * itemsPerPage,\n        currentPage * itemsPerPage\n      );\n      renderMovies(paginatedList);\n\n      pagination.getPaginationNumbers(totalPages);\n      pagination.setCurrentPage(currentPage);\n\n      pagination.prevButton.addEventListener('click', async () => {\n        pagination.setCurrentPage(--currentPage);\n        paginatedList = queuedMoviesList.slice(\n          (currentPage - 1) * itemsPerPage,\n          currentPage * itemsPerPage\n        );\n        main.innerHTML = '';\n        console.log(paginatedList);\n\n        renderMovies(paginatedList);\n        onTopScroll();\n      });\n      pagination.nextButton.addEventListener('click', async () => {\n        pagination.setCurrentPage(++currentPage);\n        paginatedList = queuedMoviesList.slice(\n          (currentPage - 1) * itemsPerPage,\n          currentPage * itemsPerPage\n        );\n        main.innerHTML = '';\n        console.log(paginatedList);\n\n        renderMovies(paginatedList);\n        onTopScroll();\n      });\n      document.querySelectorAll('.pagination__number').forEach(button => {\n        const pageIndex = Number(button.getAttribute('page-index'));\n        if (pageIndex) {\n          button.addEventListener('click', async () => {\n            pagination.setCurrentPage(pageIndex);\n            currentPage = pageIndex;\n\n            paginatedList = queuedMoviesList.slice(\n              (currentPage - 1) * itemsPerPage,\n              currentPage * itemsPerPage\n            );\n            main.innerHTML = '';\n            console.log(paginatedList);\n\n            renderMovies(paginatedList);\n            onTopScroll();\n          });\n        }\n      });\n\n      queueBtn.textContent = `QUEUE : ${queuedMoviesNumber}`;\n    }\n  } else {\n    main.insertAdjacentHTML(\n      'beforeend',\n      `<p class=\"alert\">There are no movies in your queue!</p>`\n    );\n    queueBtn.textContent = `QUEUE`;\n    loader.style.display = 'none';\n  }\n  queueBtn.setAttribute('disabled', true);\n}\n\nqueueBtn.addEventListener('click', event => {\n  event.preventDefault();\n  getQueuedMovies();\n});\n\n//render movies\nfunction renderMovies(movies) {\n  const getSingleMoviesGenre = genres => {\n    let singleMovieGenres = '';\n    genres.map(elem => {\n      elem != genres[genres.length - 1]\n        ? (singleMovieGenres = singleMovieGenres + elem.name + ', ')\n        : (singleMovieGenres = singleMovieGenres + elem.name);\n    });\n    return singleMovieGenres;\n  };\n  const markup = movies\n    .map(movie => {\n      return `\n<div class=\"movie-card\">\n  <img class=\"movie-card__image\" alt=\"${movie.title} movie\"src=${imageExists(\n        'https://image.tmdb.org/t/p/w500',\n        movie.poster_path\n      )}>\n  <div class=\"movie-card__label\">\n    <p class=\"movie-card__title\">${movie.original_title}</p>\n    <div>\n    <span class=\"movie-card__genre-year\"> ${getSingleMoviesGenre(\n      movie.genres\n    )}  | ${getMovieYear(movie.release_date)}</span> \n    <span class=\"movie-card__vote\">${movie.vote_average.toFixed(1)}</span>\n    \n    </div>\n    <p class=\"movie-card__id\">${movie.id}</p> \n  </div>\n</div>\n`;\n    })\n    .join('');\n\n  main.innerHTML += markup;\n}\n\nconst queueRefresh = event => {\n  if (queueBtn.style.backgroundColor !== 'transparent') {\n    queueBtn.removeAttribute('disabled');\n    queueBtn.click();\n  }\n};\nconst watchedRefresh = event => {\n  if (watchedBtn.style.backgroundColor !== 'transparent') {\n    watchedBtn.removeAttribute('disabled');\n    watchedBtn.click();\n  }\n};\n\naddToQueue.addEventListener('click', queueRefresh);\naddToWatched.addEventListener('click', watchedRefresh);\n\n//<p class=\"movie-card__genre-year\">${singleMovieGenres} | ${getMovieYear(\n//movie.release_date\n//)}</p>\n"],"names":["parcelRequire","$7pbsT","$c581f0284ec1c973$var$loader","document","querySelector","$c581f0284ec1c973$var$watchedBtn","$c581f0284ec1c973$var$queueBtn","$c581f0284ec1c973$var$main","$c581f0284ec1c973$var$addToQueue","$c581f0284ec1c973$var$addToWatched","style","backgroundColor","$c581f0284ec1c973$var$itemsPerPage","$c581f0284ec1c973$var$getMoviesbyId","default","movieID","API_URL","response","error","display","concat","$dIxxU","get","_state","sent","overflow","data","console","$c581f0284ec1c973$var$watchedMovies","$c581f0284ec1c973$var$getWatchedMovies","$c581f0284ec1c973$var$_getWatchedMovies","apply","this","arguments","totalPages","currentPage","watchedMoviesNumber","watchedMoviesList","paginatedList","i","watchedMovieId","watchedMoviesItem","removeAttribute","innerHTML","textContent","JSON","parse","localStorage","getItem","length","insertAdjacentHTML","push","Math","ceil","$c581f0284ec1c973$var$renderMovies","slice","$jcFG7","getPaginationNumbers","setCurrentPage","prevButton","addEventListener","log","$dEmTs","onTopScroll","nextButton","querySelectorAll","forEach","button","pageIndex","Number","getAttribute","setAttribute","event","preventDefault","$c581f0284ec1c973$var$queuedMovies","$c581f0284ec1c973$var$_getQueuedMovies","queuedMoviesNumber","queuedMoviesList","queuedMovieId","queuedMoviesItem","movies","markup","map","movie","title","$e4Itz","imageExists","poster_path","original_title","genres","singleMovieGenres","elem","name","getMovieYear","release_date","vote_average","toFixed","id","join","$c581f0284ec1c973$var$getQueuedMovies","click"],"version":3,"file":"library.6b733b03.js.map"}