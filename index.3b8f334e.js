function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){a[e]=t},t.parcelRequired7c6=s);var d=s("k3DwN"),i=s("2shzp");const o=document.querySelector(".loader"),r=async(e="https://api.themoviedb.org/3/movie/popular",t=1)=>{o.style.display="block";try{const n=await i.default.get(e,{params:{api_key:"b942b8bf626a04f48b07153a95ee51a0",page:t,language:"en-US"}});return o.style.display="none",n}catch(e){o.style.display="none",console.log(e)}};var l=s("4bJs7");let c="";const u=e=>{const t=N();return((e,t)=>{c="",e.map((n=>{t.map((t=>{t.id===n&&(n!=e[e.length-1]?c=c+t.name+", ":c+=t.name)}))}))})(e.genre_ids,t.data.genres),`\n<div class="movie-card">\n<img class="movie-card__image" alt="${e.title} movie" src=${(0,l.imageExists)("https://image.tmdb.org/t/p/w500",e.poster_path)}>\n  <div class="movie-card__label">\n    <p class="movie-card__title">${e.title}</p>\n    <p class="movie-card__genre-year">${c} | ${(0,l.getMovieYear)(e.release_date)}</p> \n    <p class="movie-card__id">${e.id}</p> \n  </div>\n</div>\n`},m=document.getElementById("pagination__numbers"),p=document.getElementById("next-button"),g=document.getElementById("prev-button");let h,v;const f=e=>{if(e==h){let e=document.createElement("span");e.className="pagination__numbers-ellipsis",e.innerHTML="&hellip;",e.classList.add("hidden-right"),m.appendChild(e)}const t=document.createElement("button");if(t.className="pagination__number",t.innerHTML=e,t.setAttribute("page-index",e),t.setAttribute("aria-label","Page "+e),1!=e&&e!=h||t.classList.add("hidden-mobile"),m.appendChild(t),1==e){let e=document.createElement("span");e.className="pagination__numbers-ellipsis",e.innerHTML="&hellip;",e.classList.add("hidden-left"),m.appendChild(e)}},L=e=>{m.innerHTML="",h=e;for(let t=1;t<=e;t++)f(t)},b=e=>{e.classList.add("disabled"),e.setAttribute("disabled",!0)},y=e=>{e.classList.remove("disabled"),e.removeAttribute("disabled")},_=e=>{v=e,(e=>{const t=document.querySelectorAll(".pagination__numbers-ellipsis");console.log(t),document.querySelectorAll(".pagination__number").forEach((n=>{const a=Number(n.getAttribute("page-index"));h<=7?(n.classList.remove("hidden"),t[0].classList.add("hidden-left"),t[1].classList.add("hidden-right")):e<=4?(t[0].classList.add("hidden-left"),t[1].classList.remove("hidden-right")):e>=h-3?(t[0].classList.remove("hidden-left"),t[1].classList.add("hidden-right")):(t[0].classList.remove("hidden-left"),t[1].classList.remove("hidden-right")),e<=3?(1==a&&n.classList.remove("hidden-mobile"),a==h&&n.classList.add("hidden-mobile"),a<=5||a==h?n.classList.remove("hidden"):n.classList.add("hidden")):e>=h-2?(1==a&&n.classList.add("hidden-mobile"),a==h&&n.classList.remove("hidden-mobile"),a>=h-4||1==a?n.classList.remove("hidden"):n.classList.add("hidden")):h<=7?(n.classList.remove("hidden"),t[0].classList.add("hidden-left"),t[1].classList.add("hidden-right"),1!=a&&a!=h||n.classList.remove("hidden-mobile")):1==a||a==h?(n.classList.remove("hidden"),n.classList.add("hidden-mobile")):a>=e-2&&a<=e+2?n.classList.remove("hidden"):n.classList.add("hidden")}))})(v),document.querySelectorAll(".pagination__number").forEach((e=>{e.classList.remove("active"),Number(e.getAttribute("page-index"))==v&&e.classList.add("active")})),1===v?b(g):y(g),h===v?b(p):y(p)};var S=s("hkaSy");const E=document.querySelector(".main-box");let q,w,T,x=1;const M=async(e,t)=>{try{let t=await r(e,x);T=await(0,d.getGenresList)(),E.innerHTML="",t.data.results.map((e=>{E.insertAdjacentHTML("beforeend",u(e))})),t.data.total_pages<500?L(t.data.total_pages):L(500),_(x),w=prevBtnFunc=async()=>{_(x-1),t=await r(e,--x),E.innerHTML="",t.data.results.map((e=>{E.insertAdjacentHTML("beforeend",u(e))})),(0,S.onTopScroll)()},g.addEventListener("click",prevBtnFunc),q=nextBtnFunc=async()=>{_(x+1),t=await r(e,++x),E.innerHTML="",t.data.results.map((e=>{E.insertAdjacentHTML("beforeend",u(e))})),(0,S.onTopScroll)()},p.addEventListener("click",nextBtnFunc),document.querySelectorAll(".pagination__number").forEach((n=>{const a=Number(n.getAttribute("page-index"));a&&n.addEventListener("click",(async()=>{_(a),x=a,t=await r(e,x),E.innerHTML="",t.data.results.map((e=>{E.insertAdjacentHTML("beforeend",u(e))})),(0,S.onTopScroll)()}))}))}catch(e){console.log("err ",e)}},k=()=>{p.removeEventListener("click",q),g.removeEventListener("click",prevBtnFunc)},N=()=>T;d=s("k3DwN");const H=document.querySelector(".genres-menu__select"),A=document.querySelector(".genres-menu__clear");let C="https://api.themoviedb.org/3/movie/popular",I=[];A.addEventListener("click",(e=>{I.forEach((e=>document.getElementById(e).classList.remove("focused-genre"))),I=[],C="https://api.themoviedb.org/3/movie/popular",k(),M(C)})),(0,d.getGenresList)().then((e=>{for(let t=0;t<e.data.genres.length;t++){const n=document.createElement("button");n.classList.add("genre"),n.id=e.data.genres[t].id,n.innerText=e.data.genres[t].name,n.addEventListener("click",(()=>{n.classList.add("focused-genre"),0===I?I.push(e.data.genres[t].id):I.includes(e.data.genres[t].id)?I.forEach(((a,s)=>{a==e.data.genres[t].id&&(console.log(e.data.genres[t].id),I.splice(s,1),n.classList.remove("focused-genre"))})):I.push(e.data.genres[t].id),C=I!==[]?"https://api.themoviedb.org/3/discover/movie?&with_genres="+encodeURI(I.join(",")):"https://api.themoviedb.org/3/movie/popular",k(),M(C)})),H.append(n)}}));var O=s("eWCmQ");const j=document.querySelector(".queue-btn"),B=document.querySelector(".watched-btn"),J=(document.querySelector(".modal"),document.querySelector(".modal__id"));let $=[],F=[],D=[];addEventListener("click",(e=>{if("movie-card__image"===e.target.className){D=e.target.parentNode.children[1].children[2].textContent;const t=localStorage.getItem("added-to-queue",JSON.stringify($)),n=localStorage.getItem("added-to-watched",JSON.stringify(F));t.includes(D)?j.textContent="removed form queue":j.textContent="add to queue",n.includes(D)?B.textContent="removed form watched":B.textContent="add to watched"}})),j.addEventListener("click",(t=>{const n=J.textContent;if($.includes(n)){let t=$.indexOf(n);if(t>-1)return $.splice(t,1),localStorage.setItem("added-to-queue",JSON.stringify($)),j.textContent="add to queue",e(O).Notify.info("Movie removed from queue")}else $.push(n),localStorage.setItem("added-to-queue",JSON.stringify($));return j.textContent="removed form queue",e(O).Notify.success("Movie added to queue")})),B.addEventListener("click",(t=>{const n=J.textContent;if(F.includes(n)){let t=F.indexOf(n);if(t>-1)return F.splice(t,1),localStorage.setItem("added-to-watched",JSON.stringify(F)),B.textContent="add to watched",e(O).Notify.info("Movie removed from watched")}else F.push(n),localStorage.setItem("added-to-watched",JSON.stringify(F));return B.textContent="removed form watched",e(O).Notify.success("Movie added to watched")})),s("1wewW");i=s("2shzp");const U=document.querySelector(".loader");async function R(e,t=1){U.style.display="block";try{const n=await i.default.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:"b942b8bf626a04f48b07153a95ee51a0",query:`${e}`,page:t}});return U.style.display="none",n.data}catch(e){U.style.display="none",console.error(e)}}const z=document.querySelector(".header__no-movies"),G=document.querySelector(".main-box"),Q=document.querySelector("input[name='searchQuery']"),W=document.querySelector(".header__search-form-btn");let P=1;W.addEventListener("click",(async function(e){e.preventDefault(),z.innerHTML="",P=1;const t=Q.value;if(t){let e=await R(t,P);e.results.length?(G.innerHTML="",console.log(e),e.results.map((e=>{G.insertAdjacentHTML("beforeend",u(e))})),e.total_pages<500?L(e.total_pages):L(500),_(P),g.addEventListener("click",(async()=>{_(P-1),e=await R(t,--P),G.innerHTML="",console.log(e),e.results.map((e=>{G.insertAdjacentHTML("beforeend",u(e))})),onTopScroll()})),p.addEventListener("click",(async()=>{_(P+1),e=await R(t,++P),G.innerHTML="",console.log(e),e.results.map((e=>{G.insertAdjacentHTML("beforeend",u(e))})),onTopScroll()})),document.querySelectorAll(".pagination__number").forEach((n=>{const a=Number(n.getAttribute("page-index"));a&&n.addEventListener("click",(async()=>{_(a),P=a,e=await R(t,P),G.innerHTML="",console.log(e),e.results.map((e=>{G.insertAdjacentHTML("beforeend",u(e))})),onTopScroll()}))}))):z.innerHTML="Search result not successful. Enter the correct movie name."}else alert("Enter movie title")})),s("hkaSy");const Y=document.querySelector(".footer__authors"),K=document.querySelector(".students-modal__close-btn"),V=document.querySelector(".data-modal");function X(){V.classList.toggle("is-hidden")}Y.addEventListener("click",X),K.addEventListener("click",X),s("2ix2C"),M();
//# sourceMappingURL=index.3b8f334e.js.map
