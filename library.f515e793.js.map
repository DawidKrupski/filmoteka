{"mappings":"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","sources":["src/library.js","src/js/getMoviesById.js"],"sourcesContent":["import './js/getGenreList';\nimport './js/addToLocalStorage';\nimport './js/getMoviesById';\nimport './js/modalWindow';\nimport './js/firebase';\nimport './js/toTopBtn';\n","import axios from 'axios';\nimport { imageExists, getMovieYear } from './exportFunctions';\n\nlet movieID = '';\nconst API_KEY = 'b942b8bf626a04f48b07153a95ee51a0';\nconst loader = document.querySelector('.loader');\nconst watchedBtn = document.querySelector('.watched-list-btn');\nconst queueBtn = document.querySelector('.queue-list-btn');\nconst main = document.querySelector('.main-box');\nconst addToQueue = document.querySelector('.queue-btn');\nconst addToWatched = document.querySelector('.watched-btn');\n\n\nwatchedBtn.style.backgroundColor = ' #ff6b01';\n\n\nconst getMoviesbyId = async movieID => {\n  loader.style.display = 'block';\n  try {\n    let API_URL = `https://api.themoviedb.org/3/movie/${movieID}?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(API_URL);\n    loader.style.display = 'none';\n    loader.style.overflow = 'hidden';\n\n    return response.data;\n  } catch (error) {\n    loader.style.display = 'none';\n    loader.style.overflow = 'hidden';\n    console.error(error);\n  }\n};\n\n//watched\nlet watchedMovies = [];\ngetWatchedMovies();\n\n\n\nasync function getWatchedMovies() {\n  queueBtn.removeAttribute('disabled');\n  queueBtn.textContent = `QUEUE`;\n  main.innerHTML = '';\n  queueBtn.style.backgroundColor = ' transparent';\n  watchedBtn.style.backgroundColor = ' #ff6b01';\n  let watchedMoviesNumber = JSON.parse(localStorage.getItem('added-to-watched')).length;\n\n  if (JSON.parse(localStorage.getItem('added-to-watched')) === null \n    ||\n    (JSON.parse(localStorage.getItem('added-to-watched')).length === 0)) {\n    main.insertAdjacentHTML('beforeend', `<p class=\"alert\">There are no movies in your watched list!</p>`);\n    watchedBtn.textContent = `WATCHED`;\n    \n    \n    loader.style.display = 'none';\n  } else {\n    watchedMovies = JSON.parse(localStorage.getItem('added-to-watched'));\n    let watchedMoviesList = [];\n\n    for (let i = 0; i < watchedMovies.length; i++) {\n      let watchedMovieId = watchedMovies[i];\n      let watchedMoviesItem = await getMoviesbyId(watchedMovieId);\n\n      watchedMoviesList.push(watchedMoviesItem);\n    }\n      renderMovies(watchedMoviesList);\n      watchedBtn.textContent = `WATCHED : ${watchedMoviesNumber}`;\n  }\n  watchedBtn.setAttribute('disabled', true);\n}\n  \n\n\nwatchedBtn.addEventListener('click', event => {\n  event.preventDefault();\n  getWatchedMovies();\n});\n\n//queue\n\nlet queuedMovies = [];\n\nasync function getQueuedMovies() {\n  watchedBtn.removeAttribute('disabled');\n  watchedBtn.textContent = `WATCHED`;\n  main.innerHTML = '';\n  watchedBtn.style.backgroundColor = 'transparent';\n  queueBtn.style.backgroundColor = ' #ff6b01';\n  let queuedMoviesNumber = JSON.parse(localStorage.getItem('added-to-queue')).length;\n\n  if (JSON.parse(localStorage.getItem('added-to-queue')) === null ||\n   (JSON.parse(localStorage.getItem('added-to-queue')).length === 0)) {\n    main.insertAdjacentHTML('beforeend', `<p class=\"alert\">There are no movies in your queue!</p>`);\n    queueBtn.textContent = `QUEUE`;\n    loader.style.display = 'none';\n      \n  } else {\n    queuedMovies = JSON.parse(localStorage.getItem('added-to-queue'));\n    let queuedMoviesList = [];\n\n    for (let i = 0; i < queuedMovies.length; i++) {\n      let queuedMovieId = queuedMovies[i];\n      let queuedMoviesItem = await getMoviesbyId(queuedMovieId);\n\n      queuedMoviesList.push(queuedMoviesItem);\n    }\n    renderMovies(queuedMoviesList);\n    queueBtn.textContent=`QUEUE : ${queuedMoviesNumber}`\n  }\n  queueBtn.setAttribute('disabled', true);\n}\n\nqueueBtn.addEventListener('click', event => {\n  event.preventDefault();\n  getQueuedMovies();\n});\n\n\n\n//render movies\nfunction renderMovies(movies) {\n  const getSingleMoviesGenre = genres => {\n    let singleMovieGenres = '';\n    genres.map(elem => {\n      elem != genres[genres.length - 1]\n        ? (singleMovieGenres = singleMovieGenres + elem.name + ', ')\n        : (singleMovieGenres = singleMovieGenres + elem.name);\n    });\n    return singleMovieGenres;\n  };\n  const markup = movies\n    .map(movie => {\n      return `\n<div class=\"movie-card\">\n  <img class=\"movie-card__image\" alt=\"${movie.title} movie\"src=${imageExists(\n        'https://image.tmdb.org/t/p/w500',\n        movie.poster_path\n      )}>\n  <div class=\"movie-card__label\">\n    <p class=\"movie-card__title\">${movie.original_title}</p>\n    <div>\n    <span class=\"movie-card__genre-year\"> ${getSingleMoviesGenre(\n      movie.genres\n    )}  | ${getMovieYear(movie.release_date)}</span> \n    <span class=\"movie-card__vote\">${movie.vote_average.toFixed(1)}</span>\n    \n    </div>\n    <p class=\"movie-card__id\">${movie.id}</p> \n  </div>\n</div>\n`;\n    })\n    .join('');\n\n  main.innerHTML += markup;\n}\n\nconst queueRefresh = event => {\n  if (queueBtn.style.backgroundColor !== 'transparent') {\n    queueBtn.removeAttribute('disabled');\n    queueBtn.click();\n  }\n};\nconst watchedRefresh = event => {\n  if (watchedBtn.style.backgroundColor !== 'transparent') {\n    watchedBtn.removeAttribute('disabled');\n    watchedBtn.click();\n  }\n};\n\naddToQueue.addEventListener('click', queueRefresh);\naddToWatched.addEventListener('click', watchedRefresh);\n\n//<p class=\"movie-card__genre-year\">${singleMovieGenres} | ${getMovieYear(\n//movie.release_date\n//)}</p>\n"],"names":["parcelRequire","$7pbsT","$c581f0284ec1c973$var$loader","document","querySelector","$c581f0284ec1c973$var$watchedBtn","$c581f0284ec1c973$var$queueBtn","$c581f0284ec1c973$var$main","$c581f0284ec1c973$var$addToQueue","$c581f0284ec1c973$var$addToWatched","style","backgroundColor","$c581f0284ec1c973$var$getMoviesbyId","default","movieID","API_URL","response","error","display","concat","$dIxxU","get","_state","sent","overflow","data","console","$c581f0284ec1c973$var$watchedMovies","$c581f0284ec1c973$var$getWatchedMovies","$c581f0284ec1c973$var$_getWatchedMovies","apply","this","arguments","watchedMoviesNumber","watchedMoviesList","i","watchedMovieId","watchedMoviesItem","removeAttribute","textContent","innerHTML","JSON","parse","localStorage","getItem","length","insertAdjacentHTML","push","$c581f0284ec1c973$var$renderMovies","setAttribute","addEventListener","event","preventDefault","$c581f0284ec1c973$var$queuedMovies","$c581f0284ec1c973$var$_getQueuedMovies","queuedMoviesNumber","queuedMoviesList","queuedMovieId","queuedMoviesItem","movies","markup","map","movie","title","$e4Itz","imageExists","poster_path","original_title","genres","singleMovieGenres","elem","name","getMovieYear","release_date","vote_average","toFixed","id","join","$c581f0284ec1c973$var$getQueuedMovies","click"],"version":3,"file":"library.f515e793.js.map"}