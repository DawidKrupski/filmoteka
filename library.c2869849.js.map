{"mappings":"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","sources":["src/library.js","src/js/getMoviesById.js"],"sourcesContent":["import './js/getGenreList';\nimport './js/addToLocalStorage';\nimport './js/getMoviesById';\nimport './js/modalWindow';\nimport './js/firebase';\nimport './js/students';\nimport './js/toTopBtn';\n","import axios from 'axios';\nimport { imageExists, getMovieYear } from './exportFunctions';\n\nlet movieID = '';\nconst API_KEY = 'b942b8bf626a04f48b07153a95ee51a0';\nconst loader = document.querySelector('.loader');\nconst watchedBtn = document.querySelector('.watched-list-btn');\nconst queueBtn = document.querySelector('.queue-list-btn');\nconst main = document.querySelector('.main-box');\nconst addToQueue = document.querySelector('.queue-btn');\nconst addToWatched = document.querySelector('.watched-btn');\n\n\nwatchedBtn.style.backgroundColor = ' #ff6b01';\n\n\nconst getMoviesbyId = async movieID => {\n  loader.style.display = 'block';\n  try {\n    let API_URL = `https://api.themoviedb.org/3/movie/${movieID}?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(API_URL);\n    loader.style.display = 'none';\n    loader.style.overflow = 'hidden';\n\n    return response.data;\n  } catch (error) {\n    loader.style.display = 'none';\n    loader.style.overflow = 'hidden';\n    console.error(error);\n  }\n};\n\n//watched\nlet watchedMovies = [];\ngetWatchedMovies();\n\n\n\nasync function getWatchedMovies() {\n  queueBtn.removeAttribute('disabled');\n  main.innerHTML = '';\n  watchedBtn.style.backgroundColor = ' #ff6b01';\n  queueBtn.style.backgroundColor = ' transparent';\n  watchedBtn.style.backgroundColor = ' #ff6b01';\n  queueBtn.textContent=`QUEUE`\n\n  if (JSON.parse(localStorage.getItem('added-to-watched')) !== null) {\n  let watchedMoviesNumber = JSON.parse(localStorage.getItem('added-to-watched')).length;\n  \n    if (JSON.parse(localStorage.getItem('added-to-watched')).length === 0) {\n      main.insertAdjacentHTML('beforeend', `<p class=\"alert\">There are no movies in your watched list!</p>`);\n      watchedBtn.textContent = `WATCHED`;\n      loader.style.display = 'none';\n    } else {\n      watchedMovies = JSON.parse(localStorage.getItem('added-to-watched'));\n\n      let watchedMoviesList = [];\n\n      for (let i = 0; i < watchedMovies.length; i++) {\n        let watchedMovieId = watchedMovies[i];\n\n        let watchedMoviesItem = await getMoviesbyId(watchedMovieId);\n\n        watchedMoviesList.push(watchedMoviesItem);\n      }\n      renderMovies(watchedMoviesList);\n      watchedBtn.textContent = `WATCHED : ${watchedMoviesNumber}`;\n      \n    }\n  } else {\n      main.insertAdjacentHTML('beforeend', `<p class=\"alert\">There are no movies in your watched list!</p>`);\n      watchedBtn.textContent = `WATCHED`;\n      loader.style.display = 'none';\n  }\n    watchedBtn.setAttribute('disabled', true);\n  \n  \n}\n\nwatchedBtn.addEventListener('click', event => {\n  event.preventDefault();\n  getWatchedMovies();\n});\n\n//queue\n\nlet queuedMovies = [];\n\nasync function getQueuedMovies() {\n  watchedBtn.removeAttribute('disabled');\n  main.innerHTML = '';\n  watchedBtn.style.backgroundColor = 'transparent';\n  queueBtn.style.backgroundColor = ' #ff6b01';\n  watchedBtn.textContent = `WATCHED`;\n\n  if (JSON.parse(localStorage.getItem('added-to-queue')) !== null) {\n  let queuedMoviesNumber = JSON.parse(localStorage.getItem('added-to-queue')).length;\n    \n    if (JSON.parse(localStorage.getItem('added-to-queue')).length === 0) {\n    main.insertAdjacentHTML('beforeend', `<p class=\"alert\">There are no movies in your queue!</p>`);\n    queueBtn.textContent = `QUEUE`;\n    loader.style.display = 'none';\n\n    } else {\n      queuedMovies = JSON.parse(localStorage.getItem('added-to-queue'));\n      let queuedMoviesList = [];\n\n      for (let i = 0; i < queuedMovies.length; i++) {\n        let queuedMovieId = queuedMovies[i];\n\n        let queuedMoviesItem = await getMoviesbyId(queuedMovieId);\n\n        queuedMoviesList.push(queuedMoviesItem);\n      }\n      renderMovies(queuedMoviesList);\n      queueBtn.textContent=`QUEUE : ${queuedMoviesNumber}`\n      \n    }\n  } else {\n      main.insertAdjacentHTML('beforeend', `<p class=\"alert\">There are no movies in your queue!</p>`);\n      queueBtn.textContent = `QUEUE`;\n      loader.style.display = 'none';\n  }\n    queueBtn.setAttribute('disabled', true);\n  \n}\n\nqueueBtn.addEventListener('click', event => {\n  event.preventDefault();\n  getQueuedMovies();\n});\n\n\n\n//render movies\nfunction renderMovies(movies) {\n  const getSingleMoviesGenre = genres => {\n    let singleMovieGenres = '';\n    genres.map(elem => {\n      elem != genres[genres.length - 1]\n        ? (singleMovieGenres = singleMovieGenres + elem.name + ', ')\n        : (singleMovieGenres = singleMovieGenres + elem.name);\n    });\n    return singleMovieGenres;\n  };\n  const markup = movies\n    .map(movie => {\n      return `\n<div class=\"movie-card\">\n  <img class=\"movie-card__image\" alt=\"${movie.title} movie\"src=${imageExists(\n        'https://image.tmdb.org/t/p/w500',\n        movie.poster_path\n      )}>\n  <div class=\"movie-card__label\">\n    <p class=\"movie-card__title\">${movie.original_title}</p>\n    <div>\n    <span class=\"movie-card__genre-year\"> ${getSingleMoviesGenre(\n      movie.genres\n    )}  | ${getMovieYear(movie.release_date)}</span> \n    <span class=\"movie-card__vote\">${movie.vote_average.toFixed(1)}</span>\n    \n    </div>\n    <p class=\"movie-card__id\">${movie.id}</p> \n  </div>\n</div>\n`;\n    })\n    .join('');\n\n  main.innerHTML += markup;\n}\n\nconst queueRefresh = event => {\n  if (queueBtn.style.backgroundColor !== 'transparent') {\n    queueBtn.removeAttribute('disabled');\n    queueBtn.click();\n  }\n};\nconst watchedRefresh = event => {\n  if (watchedBtn.style.backgroundColor !== 'transparent') {\n    watchedBtn.removeAttribute('disabled');\n    watchedBtn.click();\n  }\n};\n\naddToQueue.addEventListener('click', queueRefresh);\naddToWatched.addEventListener('click', watchedRefresh);\n\n//<p class=\"movie-card__genre-year\">${singleMovieGenres} | ${getMovieYear(\n//movie.release_date\n//)}</p>\n"],"names":["parcelRequire","$2shzp","$f543b6b9e57872fd$var$loader","document","querySelector","$f543b6b9e57872fd$var$watchedBtn","$f543b6b9e57872fd$var$queueBtn","$f543b6b9e57872fd$var$main","$f543b6b9e57872fd$var$addToQueue","$f543b6b9e57872fd$var$addToWatched","style","backgroundColor","$f543b6b9e57872fd$var$getMoviesbyId","async","movieID","display","API_URL","response","default","get","overflow","data","error","console","$f543b6b9e57872fd$var$watchedMovies","$f543b6b9e57872fd$var$getWatchedMovies","removeAttribute","innerHTML","textContent","JSON","parse","localStorage","getItem","watchedMoviesNumber","length","insertAdjacentHTML","watchedMoviesList","i","watchedMovieId","watchedMoviesItem","push","$f543b6b9e57872fd$var$renderMovies","setAttribute","addEventListener","event","preventDefault","$f543b6b9e57872fd$var$queuedMovies","movies","markup","map","movie","title","$4bJs7","imageExists","poster_path","original_title","genres","singleMovieGenres","elem","name","getSingleMoviesGenre","getMovieYear","release_date","vote_average","toFixed","id","join","queuedMoviesNumber","queuedMoviesList","queuedMovieId","queuedMoviesItem","$f543b6b9e57872fd$var$getQueuedMovies","click"],"version":3,"file":"library.c2869849.js.map"}