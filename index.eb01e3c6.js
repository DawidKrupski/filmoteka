!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r);var a,o,i,s,c=r("7pbsT"),u=r("4tSb9"),l=r("80lIJ"),d=(c=r("7pbsT"),u=r("4tSb9"),r("dIxxU")),p=document.querySelector(".loader"),f="b942b8bf626a04f48b07153a95ee51a0",g=(a=(0,c.default)((function(){var e,t,n,r,a=arguments;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:e=a.length>0&&void 0!==a[0]?a[0]:"https://api.themoviedb.org/3/movie/popular",t=a.length>1&&void 0!==a[1]?a[1]:1,p.style.display="block",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,d.default.get(e,{params:{api_key:"".concat(f),page:t,language:"en-US"}})];case 2:return n=o.sent(),p.style.display="none",[2,n];case 3:return r=o.sent(),p.style.display="none",console.log(r),[3,4];case 4:return[2]}}))})),function(){return a.apply(this,arguments)}),m=r("e4Itz"),h="",v=function(e){var t=S();return function(e,t){h="",e.map((function(n){t.map((function(t){t.id===n&&(n!=e[e.length-1]?h=h+t.name+", ":h+=t.name)}))}))}(e.genre_ids,t.data.genres),'\n<div class="movie-card">\n<img class="movie-card__image" alt="'.concat(e.title,' movie" src=').concat((0,m.imageExists)("https://image.tmdb.org/t/p/w500",e.poster_path),'>\n  <div class="movie-card__label">\n    <p class="movie-card__title">').concat(e.title,'</p>\n    <p class="movie-card__genre-year">').concat(h," | ").concat((0,m.getMovieYear)(e.release_date),'</p> \n    <p class="movie-card__id">').concat(e.id,"</p> \n  </div>\n</div>\n")},b=r("jcFG7"),_=r("dEmTs"),y=document.querySelector(".main-box"),L=1,T=function(){var e=(0,c.default)((function(e){var t,n,r,a=arguments;return(0,u.__generator)(this,(function(d){switch(d.label){case 0:t=a.length>1&&void 0!==a[1]?a[1]:1,d.label=1;case 1:return d.trys.push([1,4,,5]),[4,g(e,L=t)];case 2:return n=d.sent(),[4,(0,l.getGenresList)()];case 3:return s=d.sent(),y.innerHTML="",n.data.results.map((function(e){y.insertAdjacentHTML("beforeend",v(e))})),n.data.total_pages<500?b.getPaginationNumbers(n.data.total_pages):b.getPaginationNumbers(500),b.setCurrentPage(L),i=(0,c.default)((function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return b.setCurrentPage(L-1),[4,g(e,--L)];case 1:return n=t.sent(),y.innerHTML="",n.data.results.map((function(e){y.insertAdjacentHTML("beforeend",v(e))})),(0,_.onTopScroll)(),[2]}}))})),b.prevButton.addEventListener("click",i),o=(0,c.default)((function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return b.setCurrentPage(L+1),[4,g(e,++L)];case 1:return n=t.sent(),y.innerHTML="",n.data.results.map((function(e){y.insertAdjacentHTML("beforeend",v(e))})),(0,_.onTopScroll)(),[2]}}))})),b.nextButton.addEventListener("click",o),document.querySelectorAll(".pagination__number").forEach((function(t){var r=Number(t.getAttribute("page-index"));r&&t.addEventListener("click",(0,c.default)((function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return b.setCurrentPage(r),[4,g(e,L=r)];case 1:return n=t.sent(),y.innerHTML="",n.data.results.map((function(e){y.insertAdjacentHTML("beforeend",v(e))})),(0,_.onTopScroll)(),[2]}}))})))})),[3,5];case 4:return r=d.sent(),console.log("err ",r),[3,5];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),E=function(){b.nextButton.removeEventListener("click",o),b.prevButton.removeEventListener("click",i)},S=function(){return s},M=(l=r("80lIJ"),document.querySelector(".genres-menu__select")),w=document.querySelector(".genres-menu__clear"),x="https://api.themoviedb.org/3/movie/popular",H=[],k=1,q=function(e){H.forEach((function(e){return document.getElementById(e).classList.remove("focused-genre")})),H=[],x="https://api.themoviedb.org/3/movie/popular",E(),T(x)};w.addEventListener("click",q),(0,l.getGenresList)().then((function(e){for(var t=function(t){var n=document.createElement("button");n.classList.add("genre"),n.id=e.data.genres[t].id,n.innerText=e.data.genres[t].name,n.addEventListener("click",(function(){n.classList.add("focused-genre"),0===H?H.push(e.data.genres[t].id):H.includes(e.data.genres[t].id)?H.forEach((function(r,a){r==e.data.genres[t].id&&(H.splice(a,1),n.classList.remove("focused-genre"))})):H.push(e.data.genres[t].id),H!==[]?(k=1,x="https://api.themoviedb.org/3/discover/movie?&with_genres="+encodeURI(H.join(","))):x="https://api.themoviedb.org/3/movie/popular",E(),T(x,k)})),M.append(n)},n=0;n<e.data.genres.length;n++)t(n)})),r("5PK8J"),r("5h39L");c=r("7pbsT"),u=r("4tSb9"),c=r("7pbsT"),u=r("4tSb9"),d=r("dIxxU");var P="b942b8bf626a04f48b07153a95ee51a0",A="https://api.themoviedb.org/3/search/movie",j=document.querySelector(".loader");function N(e){return C.apply(this,arguments)}function C(){return C=(0,c.default)((function(e){var t,n,r,a=arguments;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:t=a.length>1&&void 0!==a[1]?a[1]:1,j.style.display="block",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,d.default.get(A,{params:{api_key:"".concat(P),query:"".concat(e),page:t}})];case 2:return n=o.sent(),j.style.display="none",[2,n.data];case 3:return r=o.sent(),j.style.display="none",console.error(r),[3,4];case 4:return[2]}}))})),C.apply(this,arguments)}var B=r("iU1Pc"),I=(b=r("jcFG7"),_=r("dEmTs"),document.querySelector(".header__no-movies")),U=document.querySelector(".main-box"),G=document.querySelector("input[name='searchQuery']"),D=document.querySelector(".header__search-form-btn"),F=1;function J(){return(J=(0,c.default)((function(e){var t,n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),I.innerHTML="",F=1,(t=G.value)?[3,1]:(B.Notify.info("Enter movie title"),[3,3]);case 1:return[4,N(t,F)];case 2:(n=r.sent()).results.length?(U.innerHTML="",q(),n.results.map((function(e){U.insertAdjacentHTML("beforeend",v(e))})),n.total_pages<500?b.getPaginationNumbers(n.total_pages):b.getPaginationNumbers(500),b.setCurrentPage(F),b.prevButton.addEventListener("click",(0,c.default)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return b.setCurrentPage(F-1),[4,N(t,--F)];case 1:return n=e.sent(),U.innerHTML="",n.results.map((function(e){U.insertAdjacentHTML("beforeend",v(e))})),(0,_.onTopScroll)(),[2]}}))}))),b.nextButton.addEventListener("click",(0,c.default)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return b.setCurrentPage(F+1),[4,N(t,++F)];case 1:return n=e.sent(),U.innerHTML="",n.results.map((function(e){U.insertAdjacentHTML("beforeend",v(e))})),(0,_.onTopScroll)(),[2]}}))}))),document.querySelectorAll(".pagination__number").forEach((function(e){var r=Number(e.getAttribute("page-index"));r&&e.addEventListener("click",(0,c.default)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return b.setCurrentPage(r),[4,N(t,F=r)];case 1:return n=e.sent(),U.innerHTML="",n.results.map((function(e){U.insertAdjacentHTML("beforeend",v(e))})),(0,_.onTopScroll)(),[2]}}))})))}))):I.innerHTML="Search result not successful. Enter the correct movie name.",r.label=3;case 3:return[2]}}))}))).apply(this,arguments)}D.addEventListener("click",(function(e){return J.apply(this,arguments)})),r("dEmTs"),r("668Z7"),r("iNWLi"),r("iN9zG"),T()}();
//# sourceMappingURL=index.eb01e3c6.js.map
