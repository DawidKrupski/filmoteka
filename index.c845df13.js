!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var i,s,o,d,c=a("7pbsT"),l=a("4tSb9"),u=a("80lIJ"),m=(c=a("7pbsT"),l=a("4tSb9"),a("dIxxU")),f=document.querySelector(".loader"),p="b942b8bf626a04f48b07153a95ee51a0",h=(i=(0,c.default)((function(){var e,t,n,r,a=arguments;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:e=a.length>0&&void 0!==a[0]?a[0]:"https://api.themoviedb.org/3/movie/popular",t=a.length>1&&void 0!==a[1]?a[1]:1,f.style.display="block",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,m.default.get(e,{params:{api_key:"".concat(p),page:t,language:"en-US"}})];case 2:return n=i.sent(),f.style.display="none",[2,n];case 3:return r=i.sent(),f.style.display="none",console.log(r),[3,4];case 4:return[2]}}))})),function(){return i.apply(this,arguments)}),g="",v=function(e){var t,n=N();return function(e,t){g="",e.map((function(n){t.map((function(t){t.id===n&&(n!=e[e.length-1]?g=g+t.name+", ":g+=t.name)}))}))}(e.genre_ids,n.data.genres),'\n<div class="movie-card">\n  <img class="movie-card__image" alt="" src=\'https://image.tmdb.org/t/p/w500/'.concat(e.poster_path,'\'}>\n  <div class="movie-card__label">\n    <p class="movie-card__title">').concat(e.title,'</p>\n    <p class="movie-card__genre-year">').concat(g," | ").concat((t=e.release_date,t.substring(0,4)),'</p> \n    <p class="movie-card__id">').concat(e.id,"</p> \n  </div>\n</div>\n")},b=document.getElementById("pagination__numbers"),L=document.getElementById("next-button"),_=document.getElementById("prev-button"),y=function(e){if(e==s){var t=document.createElement("span");t.className="pagination__numbers-ellipsis",t.innerHTML="&hellip;",t.classList.add("hidden-right"),b.appendChild(t)}var n=document.createElement("button");if(n.className="pagination__number",n.innerHTML=e,n.setAttribute("page-index",e),n.setAttribute("aria-label","Page "+e),1!=e&&e!=s||n.classList.add("hidden-mobile"),b.appendChild(n),1==e){var r=document.createElement("span");r.className="pagination__numbers-ellipsis",r.innerHTML="&hellip;",r.classList.add("hidden-left"),b.appendChild(r)}},S=function(e){b.innerHTML="",s=e;for(var t=1;t<=e;t++)y(t)},T=function(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)},q=function(e){e.classList.remove("disabled"),e.removeAttribute("disabled")},E=function(e){(function(e){var t=document.querySelectorAll(".pagination__numbers-ellipsis");console.log(t),document.querySelectorAll(".pagination__number").forEach((function(n){var r=Number(n.getAttribute("page-index"));s<=7?(n.classList.remove("hidden"),t[0].classList.add("hidden-left"),t[1].classList.add("hidden-right")):e<=4?(t[0].classList.add("hidden-left"),t[1].classList.remove("hidden-right")):e>=s-3?(t[0].classList.remove("hidden-left"),t[1].classList.add("hidden-right")):(t[0].classList.remove("hidden-left"),t[1].classList.remove("hidden-right")),e<=3?(1==r&&n.classList.remove("hidden-mobile"),r==s&&n.classList.add("hidden-mobile"),r<=5||r==s?n.classList.remove("hidden"):n.classList.add("hidden")):e>=s-2?(1==r&&n.classList.add("hidden-mobile"),r==s&&n.classList.remove("hidden-mobile"),r>=s-4||1==r?n.classList.remove("hidden"):n.classList.add("hidden")):s<=7?(n.classList.remove("hidden"),t[0].classList.add("hidden-left"),t[1].classList.add("hidden-right"),1!=r&&r!=s||n.classList.remove("hidden-mobile")):1==r||r==s?(n.classList.remove("hidden"),n.classList.add("hidden-mobile")):r>=e-2&&r<=e+2?n.classList.remove("hidden"):n.classList.add("hidden")}))})(o=e),document.querySelectorAll(".pagination__number").forEach((function(e){e.classList.remove("active"),Number(e.getAttribute("page-index"))==o&&e.classList.add("active")})),1===o?T(_):q(_),s===o?T(L):q(L)},x=a("dEmTs"),w=document.querySelector(".main-box"),M=1,H=function(){var e=(0,c.default)((function(e,t){var n,r,a,i;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),(n=[]).push(h(e,M)),n.push((0,u.getGenresList)()),[4,Promise.all(n)];case 1:return r=t.sent(),a=r[0],d=r[1],w.innerHTML="",a.data.results.map((function(e){w.insertAdjacentHTML("beforeend",v(e))})),a.data.total_pages<500?S(a.data.total_pages):S(500),E(M),_.addEventListener("click",(0,c.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return E(M-1),[4,h(e,--M)];case 1:return a=t.sent(),w.innerHTML="",a.data.results.map((function(e){w.insertAdjacentHTML("beforeend",v(e))})),(0,x.onTopScroll)(),[2]}}))}))),L.addEventListener("click",(0,c.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return E(M+1),[4,h(e,++M)];case 1:return a=t.sent(),w.innerHTML="",a.data.results.map((function(e){w.insertAdjacentHTML("beforeend",v(e))})),(0,x.onTopScroll)(),[2]}}))}))),document.querySelectorAll(".pagination__number").forEach((function(t){var n=Number(t.getAttribute("page-index"));n&&t.addEventListener("click",(0,c.default)((function(){return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return E(n),[4,h(e,M=n)];case 1:return a=t.sent(),w.innerHTML="",a.data.results.map((function(e){w.insertAdjacentHTML("beforeend",v(e))})),(0,x.onTopScroll)(),[2]}}))})))})),[3,3];case 2:return i=t.sent(),console.log("err ",i),[3,3];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),N=function(){return d},A=(u=a("80lIJ"),document.querySelector(".genres-menu__select")),k=document.querySelector(".genres-menu__clear"),C="https://api.themoviedb.org/3/movie/popular",I=[];k.addEventListener("click",(function(e){I.forEach((function(e){return document.getElementById(e).classList.remove("focused-genre")})),I=[],H(C="https://api.themoviedb.org/3/movie/popular")})),(0,u.getGenresList)().then((function(e){for(var t=function(t){var n=document.createElement("button");n.classList.add("genre"),n.id=e.data.genres[t].id,n.innerText=e.data.genres[t].name,n.addEventListener("click",(function(){n.classList.add("focused-genre"),0===I?I.push(e.data.genres[t].id):I.includes(e.data.genres[t].id)?I.forEach((function(r,a){r==e.data.genres[t].id&&(console.log(e.data.genres[t].id),I.splice(a,1),n.classList.remove("focused-genre"))})):I.push(e.data.genres[t].id),C=I!==[]?"https://api.themoviedb.org/3/discover/movie?&with_genres="+encodeURI(I.join(",")):"https://api.themoviedb.org/3/movie/popular",H(C)})),A.append(n)},n=0;n<e.data.genres.length;n++)t(n)}));var O=a("iU1Pc"),j=document.querySelector(".queue-btn"),J=document.querySelector(".watched-btn"),U=(document.querySelector(".modal"),document.querySelector(".modal__id")),B=[],D=[],P=[];addEventListener("click",(function(e){if("movie-card__image"===e.target.className){P=e.target.parentNode.children[1].children[2].textContent;var t=localStorage.getItem("added-to-queue",JSON.stringify(B)),n=localStorage.getItem("added-to-watched",JSON.stringify(D));t.includes(P)?j.textContent="removed form queue":j.textContent="add to queue",n.includes(P)?J.textContent="removed form watched":J.textContent="add to watched"}})),j.addEventListener("click",(function(t){var n=U.textContent;if(B.includes(n)){var r=B.indexOf(n);if(r>-1)return B.splice(r,1),localStorage.setItem("added-to-queue",JSON.stringify(B)),j.textContent="add to queue",e(O).Notify.info("Movie removed from queue")}else B.push(n),localStorage.setItem("added-to-queue",JSON.stringify(B));return j.textContent="removed form queue",e(O).Notify.success("Movie added to queue")})),J.addEventListener("click",(function(t){var n=U.textContent;if(D.includes(n)){var r=D.indexOf(n);if(r>-1)return D.splice(r,1),localStorage.setItem("added-to-watched",JSON.stringify(D)),J.textContent="add to watched",e(O).Notify.info("Movie removed from watched")}else D.push(n),localStorage.setItem("added-to-watched",JSON.stringify(D));return J.textContent="removed form watched",e(O).Notify.success("Movie added to watched")})),a("5h39L");c=a("7pbsT"),l=a("4tSb9"),c=a("7pbsT"),l=a("4tSb9"),m=a("dIxxU");var R="b942b8bf626a04f48b07153a95ee51a0",G="https://api.themoviedb.org/3/search/movie",F=document.querySelector(".loader");function Q(e){return W.apply(this,arguments)}function W(){return W=(0,c.default)((function(e){var t,n,r,a=arguments;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:t=a.length>1&&void 0!==a[1]?a[1]:1,F.style.display="block",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,m.default.get(G,{params:{api_key:"".concat(R),query:"".concat(e),page:t}})];case 2:return n=i.sent(),F.style.display="none",[2,n.data];case 3:return r=i.sent(),F.style.display="none",console.error(r),[3,4];case 4:return[2]}}))})),W.apply(this,arguments)}var z=document.querySelector(".header__no-movies"),K=document.querySelector(".main-box"),V=document.querySelector("input[name='searchQuery']"),X=document.querySelector(".header__search-form-btn"),Y=1;function Z(){return(Z=(0,c.default)((function(e){var t,n;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),z.innerHTML="",Y=1,(t=V.value)?[3,1]:(alert("Enter movie title"),[3,3]);case 1:return[4,Q(t,Y)];case 2:(n=r.sent()).results.length?(K.innerHTML="",console.log(n),n.results.map((function(e){K.insertAdjacentHTML("beforeend",v(e))})),n.total_pages<500?S(n.total_pages):S(500),E(Y),_.addEventListener("click",(0,c.default)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return E(Y-1),[4,Q(t,--Y)];case 1:return n=e.sent(),K.innerHTML="",console.log(n),n.results.map((function(e){K.insertAdjacentHTML("beforeend",v(e))})),onTopScroll(),[2]}}))}))),L.addEventListener("click",(0,c.default)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return E(Y+1),[4,Q(t,++Y)];case 1:return n=e.sent(),K.innerHTML="",console.log(n),n.results.map((function(e){K.insertAdjacentHTML("beforeend",v(e))})),onTopScroll(),[2]}}))}))),document.querySelectorAll(".pagination__number").forEach((function(e){var r=Number(e.getAttribute("page-index"));r&&e.addEventListener("click",(0,c.default)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return E(r),[4,Q(t,Y=r)];case 1:return n=e.sent(),K.innerHTML="",console.log(n),n.results.map((function(e){K.insertAdjacentHTML("beforeend",v(e))})),onTopScroll(),[2]}}))})))}))):z.innerHTML="Search result not successful. Enter the correct movie name.",r.label=3;case 3:return[2]}}))}))).apply(this,arguments)}X.addEventListener("click",(function(e){return Z.apply(this,arguments)})),a("dEmTs");var $=document.querySelector(".footer__authors"),ee=document.querySelector(".students-modal__close-btn"),te=document.querySelector(".data-modal");function ne(){te.classList.toggle("is-hidden")}$.addEventListener("click",ne),ee.addEventListener("click",ne),a("iNWLi"),H()}();
//# sourceMappingURL=index.c845df13.js.map
